# [CWAPI-A] Snowball

Реализация снежков через способность для кастомных гранат в CustomWeaponsAPI.

## Требования

- [CustomWeaponsAPI](https://github.com/AmxxModularEcosystem/CustomWeaponsAPI) версии [1.0.0-b3](https://github.com/AmxxModularEcosystem/CustomWeaponsAPI/releases/tag/1.0.0-b3) или новее

---

Репозиторий включает в себя две способности: `Snowball` и `Freeze`.

## Способность `Snowball`

Способность заменяет бросок гранаты на бросок снежка. Модель гранаты при этом не заменяет, это надо делать в конфиге оружия.

Параметры способности:

| Параметр    | Тип            | По умолчанию   | Описание                                   |
| :---------- | :------------- | :------------- | :----------------------------------------- |
| `Damage`    | Д.Число        | *Обязательный* | Урон, наносимый снежком                    |
| `Speed`     | Д.Число        | 1500.0         | Скорость полёта снежка                     |
| `Gravity`   | Д.Число        | 0.5            | Множитель гравитации снежка                |
| `WithTrail` | `true`/`false` | false          | Должен ли снежок оставлять след при полёте |

## Способность `Freeze`

Способность позволяет настроить шанс замедления игрока при нанесении ему урона оружем с этой способностью.

Параметры способности:

| Параметр          | Тип     | По умолчанию   | Описание                                    |
| :---------------- | :------ | :------------- | :------------------------------------------ |
| `Duration`        | Д.Число | *Обязательный* | Длительность действия замедления            |
| `SpeedMultiplier` | Д.Число | 0.5            | Множитель скорости для замедленных игроков  |
| `Chance`          | Д.Число | 1.0            | Шанс наложения эффекта, где 1 - 100%        |

Способность не привязана именно к снежкам и может использоваться с любым оружием.

## Готовый конфиг снежка

Для простоты установки в репозитории [лежит](amxmodx/configs/plugins/CustomWeaponsAPI/Weapons/Snowball/Snowball.json) преднастроенный снежок.

## Разминка на снежках

Изначально этот плагин был задуман как замена существующим узконаправленным плагинам разминки на снежках.

Для использования этого снежка на разминке можно поставить [этот](https://github.com/ArKaNeMaN/amxx-RandomWeaponsWarmUP) и [этот](https://github.com/AmxxModularEcosystem/IC-I-Cwapi) плагины, и в первом добавить режим со следующими параметрами:

```jsonc
{
    "Title": "Зиняя разминка",
    "Items": [
        {
            "Type": "Cwapi",
            "Name": "Snowball",
            "GiveType": "Replace",
            "BpAmmo": 99,
            "ForceActive": true
        }
    ]
}
```
